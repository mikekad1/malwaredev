//Reconnaisance (curtecy to @valhalla_dev)
//Main downloader

//Grabs operating system information

#include <string>
#include <iostream>
#include <lmcoms.h>
#include <windows.h>
#include <sstream>

using namespace std;

string osInfo(){
//String that will hold all the info at first.
//Make this a structure
string OSINFO;

//Individual pieces of the OSINFO pie
//Find meaning of UNLEN
char username[UNLEN+1];
DWORD unamelen = UNLEN+1;

GetUserName(username, &unamelen);

OSINFO.append("Username:");
OSINFO.append(username);
OSINFO.append("//");

//Struct(?) for gathering OS version information
OSVERSIONINFO verInfo;
verInfo.dwOSVersionInfoSize = sizeof(OSVERSIONINFO);

DWORD majorVer = verInfo.dMajorVersion;
DWORD minorVer = verInfo.dMinorVersion;

//cout << "Username: " << username << endl;
//cout << "Operating System (Major.Minor): " << int(majorVer) << "-" << int(minorVer) << endl;
//system("pause");

stringstream s;

s << majorVer;
string sMajorVer = s.str();

s << minorVer;
string sMinorVer = s.str();

OSINFO.append("OS_Version:");
OSINFO.append(majorVer);
OSINFO.append("-");
OSINFO.append(minorVer); 
OSINFO.append("//");

cout << OSINFO << endl;
system("pause");


return OSINFO;
}

int main(){
  osInfo();
  
  return 0;
}
